@using LifeVenture.Web.ViewModels.Events;
@model EventsListingViewModel
@{
    this.ViewData["Title"] = "Събития";
    //var asd = false;
    var categories = this.Model.Categories.Select(x => new SelectListItem(x.Value, x.Key));
    // var category = categories.FirstOrDefault();
    // category.Selected = true;

}

<head>
    <link href="~/css/card.css" rel="stylesheet" asp-append-version="true" />
    <link href="~/css/event.css" rel="stylesheet" asp-append-version="true" />
    <link href="~/css/select.css" rel="stylesheet" asp-append-version="true" />
</head>

<div class="event-body">

    <div class="events-header">
        <img id="events-welcome-img" src="~/images/people-event-2.jpg" alt="">
        <p id="event-slogan">
            Промени света, създай добро дело - събития с цел помощ
            за добри каузи, достъпни само с един клик!
        </p>
        <a id="event-newevent-button" asp-controller="Events" asp-action="Create" type="button" class="btn btn-primary">
            <span>Създай събитие</span>
        </a>
    </div>

    <div class="events-filter">
        <a id="event-filter-new" asp-controller="Events" asp-action="Index" asp-route-sortOrder="@this.ViewData["Latest"]">
            <span>НАЙ-НОВИ</span>
        </a>
        <a id="event-filter-popular" asp-controller="Events" asp-action="Index" asp-route-sortOrder="@this.ViewData["MostPopular"]">
            <span>НАЙ-ПОПУЛЯРНИ</span>
        </a>
        <a id="event-filter-visited" asp-controller="Events" asp-action="Index" asp-route-sortOrder="@this.ViewData["MostVisited"]">
            <span>НАЙ-ПОСЕЩАВАНИ</span>
        </a>
        <div class="custom-select">
            <select class="form-control" asp-items="categories"></select>
        </div>
    </div>

    <div class="card-container row justify-content-center">
        @foreach (var eventModel in Model.Events)
        {
            <partial name="_EventCardPatrial" model="@eventModel" />
        }
    </div>
</div>

@section Scripts {
    <script src="~/js/select.js" asp-append-version="true"></script>
}